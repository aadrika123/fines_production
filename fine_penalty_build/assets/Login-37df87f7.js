import{r as d,c as ae,n as c,a as le,d as B,j as e,s as re,e as p}from"./index-3aedd10c.js";import{c as O,a as w,u as U}from"./formik.esm-fea6ce04.js";/* empty css              */import{R as $}from"./Hourglass-5d13f90f.js";import{P as te}from"./ProjectApiList-d84dfb34.js";import{A as se}from"./ApiHeader-6d683756.js";import{i as ie}from"./fp-d98bddc3.js";import{A as K}from"./AxiosInterceptors-bbcf2365.js";import{u as oe}from"./DynamicData-89ec0084.js";import{c as ne,a as de}from"./PowerupFunctions-d7b1e2e8.js";import{R as ce}from"./index.esm-d2e57bb1.js";import"./iconBase-982efd39.js";const me="/assets/download-49a35d86.png",{api_login:ue,api_getFreeMenuList:he}=te(),xe=O({username:w().required("Enter Username"),password:w().required("Enter Password")});function Le(){var L,R,D,F,M;const{setmenuList:G,setuserDetails:J,setheartBeatCounter:X}=d.useContext(ae),[j,i]=d.useState(!1),[v,y]=d.useState(!1),m=d.useRef(),b=d.useRef(),s=U({initialValues:{username:"",password:""},onSubmit:r=>{T()},validationSchema:xe}),t=U({initialValues:{email:"",mobile:""},onSubmit:r=>{console.log(r),Q(r)},validationSchema:O().shape({email:w().test("email-or-mobile","Please provide an email or mobile number",function(r){const{mobile:l}=this.parent;return!(!r&&!l)}),mobile:w().test("email-or-mobile","Please provide an email or mobile number",function(r){const{email:l}=this.parent;return!(!r&&!l)})})}),Q=r=>{i(!0);let l={mobileNo:r==null?void 0:r.mobile,email:r==null?void 0:r.email};console.log("--1--before reset send...",l),axios.post("",l,S).then(function(a){var o,n;console.log("reset password response => ",a.data),a.data.status==!0?(c.success((o=a==null?void 0:a.data)==null?void 0:o.message),b.current.close(),t.resetForm()):(console.log("false..."),i(!1),c.error((n=a==null?void 0:a.data)==null?void 0:n.message))}).catch(function(a){i(!1),console.log("reset password error => ",a),c.error("Server Error")})},N=le();d.useEffect(()=>{B("token")!="null"&&B("token")!=null&&N("/home")},[]);const k="text-gray-800 text-sm",C="border focus:outline-none drop-shadow-sm focus:drop-shadow-md px-4 py-1 text-gray-700 shadow-black placeholder:text-sm",S={headers:{Accept:"application/json"}},T=r=>{i(!0);let l={email:s.values.username,password:s.values.password};console.log("--1--before login send...",l),K.post(ue,l,S).then(function(a){var o,n,u,h,x,g,f,A,E,P,_,z,V,q,I,W,H;console.log("message check login ",a.data),a.data.status==!0?(re("token",(n=(o=a==null?void 0:a.data)==null?void 0:o.data)==null?void 0:n.token),p("userDetails",(h=(u=a==null?void 0:a.data)==null?void 0:u.data)==null?void 0:h.userDetails),((f=(g=(x=a==null?void 0:a.data)==null?void 0:x.data)==null?void 0:g.userDetails)==null?void 0:f.user_type)=="ADMIN"&&p("menuList",[{name:"Home",path:"/home",children:[]},{name:"Application List",path:"/fp-list",children:[]},{name:"Search Challan",path:"/search-challan",children:[]},{name:"Workflow",path:"/fp-workflow",children:[]},{name:"Violation Master",path:"/violation-master",children:[]},{name:"User Role Master",path:"/user-master",children:[]},{name:"Cash Verification",path:"/cash-verification",children:[]},{name:"Reports",path:"",children:[{name:"Challan Generated Report",path:"/challan-generated-report"},{name:"Violation Wise Report",path:"/violation-wise-report"},{name:"Collection Report",path:"/collection-report"},{name:"Comparision Report",path:"/comparision-report"}]}]),((P=(E=(A=a==null?void 0:a.data)==null?void 0:A.data)==null?void 0:E.userDetails)==null?void 0:P.user_type)=="CO"&&p("menuList",[{name:"Home",path:"/home",children:[]},{name:"Application List",path:"/fp-list",children:[]},{name:"Search Challan",path:"/search-challan",children:[]},{name:"Workflow",path:"/fp-workflow",children:[]}]),((V=(z=(_=a==null?void 0:a.data)==null?void 0:_.data)==null?void 0:z.userDetails)==null?void 0:V.user_type)=="EC"&&p("menuList",[{name:"Home",path:"/home",children:[]},{name:"Application List",path:"/fp-list",children:[]},{name:"Search Challan",path:"/search-challan",children:[]},{name:"Reports",path:"",children:[{name:"Challan Generated Report",path:"/challan-generated-report"},{name:"Violation Wise Report",path:"/violation-wise-report"},{name:"Collection Report",path:"/collection-report"},{name:"Comparision Report",path:"/comparision-report"}]}]),((W=(I=(q=a==null?void 0:a.data)==null?void 0:q.data)==null?void 0:I.userDetails)==null?void 0:W.user_type)=="JSK"&&p("menuList",[{name:"Home",path:"/home",children:[]},{name:"Application List",path:"/fp-list",children:[]},{name:"Search Challan",path:"/search-challan",children:[]}]),Y(),X(ee=>ee+1),N("/home"),c.success("Login Successfull")):(console.log("false..."),i(!1),c.error((H=a==null?void 0:a.data)==null?void 0:H.message))}).catch(function(a){i(!1),console.log("--2--login error...",a),c.error("Server Error")})},Y=()=>{let r={moduleId:10};console.log("request body",r),K.post(he,r,se()).then(function(l){var a,o,n,u,h,x,g,f;console.log("fetched menu list.....",(n=(o=(a=l==null?void 0:l.data)==null?void 0:a.data)==null?void 0:o.userDetails)==null?void 0:n.roles),l.data.status==!0?(G((h=(u=l==null?void 0:l.data)==null?void 0:u.data)==null?void 0:h.permission),J((g=(x=l==null?void 0:l.data)==null?void 0:x.data)==null?void 0:g.userDetails)):(console.log("false menu list => ",(f=l==null?void 0:l.data)==null?void 0:f.message),i(!1),seterrorMsg(ne(l.data.message)))}).catch(function(l){i(!1),console.log("--2--login error...",l)})},Z=r=>{let l=r.target.name,a=r.target.value;console.log("first",l),l=="email"&&(t.setFieldValue("mobile",""),t.setFieldValue("email",a)),l=="mobile"&&(t.setFieldValue("email",""),t.setFieldValue("mobile",de(a,t==null?void 0:t.values.mobile,10)))};return d.useEffect(()=>{v?m.current.open||m.current.showModal():m.current.open&&m.current.close()},[v]),e.jsxs(e.Fragment,{children:[e.jsx("dialog",{ref:m,className:"bg-transparent w-full",children:e.jsx("div",{className:"w-full md:w-2/3 mx-auto my-10 bg-white px-2 rounded-xl shadow shadow-slate-300 pt-7 relative min-h-[500px]",children:e.jsxs("div",{className:"",children:[e.jsx("button",{onClick:()=>y(!1),type:"button",className:"absolute top-6 right-8 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm p-1.5 ml-auto inline-flex items-center darks:hover:bg-gray-800 darks:hover:text-white",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",children:e.jsx("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})})}),e.jsxs("div",{className:"bg-white ",children:[e.jsx("h1",{className:"text-2xl font-semibold text-center text-gray-800 capitalize lg:text-3xl ",children:"Download User Manual"}),e.jsxs("div",{className:"container p-10 mx-auto grid grid-cols-12 space-x-2",children:[e.jsx("div",{className:"col-span-12 md:col-span-3 gap-4 mt-6 xl:mt-12 xl:gap-12 md:grid-cols-2 lg:grid-cols-3",children:e.jsxs("div",{className:"w-full p-8 space-y-8 text-center border border-gray-200 rounded-lg bg-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-500 uppercase ",children:"Enforcement Officer App"}),e.jsx("a",{href:"./manual-enf-off.pdf",download:!0,children:e.jsx("button",{className:"w-full px-4 py-2 mt-10 tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:bg-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-80",children:"Download"})})]})}),e.jsx("div",{className:"col-span-12 md:col-span-3 gap-4 mt-6 xl:mt-12 xl:gap-12 md:grid-cols-2 lg:grid-cols-3",children:e.jsxs("div",{className:"w-full p-8 space-y-8 text-center border border-gray-200 rounded-lg bg-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-500 uppercase ",children:"Commitee Member Web"}),e.jsx("a",{href:"./manual-enf-commitee.pdf",download:!0,children:e.jsx("button",{className:"w-full px-4 py-2 mt-10 tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:bg-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-80",children:"Download"})})]})}),e.jsx("div",{className:"col-span-12 md:col-span-3 gap-4 mt-6 xl:mt-12 xl:gap-12 md:grid-cols-2 lg:grid-cols-3",children:e.jsxs("div",{className:"w-full p-8 space-y-8 text-center border border-gray-200 rounded-lg bg-gray-200",children:[e.jsx("p",{className:"font-medium text-gray-500 uppercase ",children:"Enforcement Cell Web"}),e.jsx("a",{href:"./manual-enf-cell.pdf",download:!0,children:e.jsx("button",{className:"w-full px-4 py-2 mt-10 tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:bg-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-80",children:"Download"})})]})}),e.jsx("div",{className:"col-span-12 md:col-span-3 gap-4 mt-6 xl:mt-12 xl:gap-12 md:grid-cols-2 lg:grid-cols-3",children:e.jsxs("div",{className:"w-full p-8 space-y-8 text-center border border-gray-200 rounded-lg bg-gray-200",children:[e.jsxs("p",{className:"font-medium text-gray-500 uppercase ",children:["JSK",e.jsx("div",{children:"Â "})]}),e.jsx("a",{href:"./manual-jsk.pdf",download:!0,children:e.jsx("button",{className:"w-full px-4 py-2 mt-10 tracking-wide text-white capitalize transition-colors duration-300 transform bg-blue-600 rounded-md hover:bg-blue-500 focus:outline-none focus:bg-blue-500 focus:ring focus:ring-blue-300 focus:ring-opacity-80",children:"Download"})})]})})]})]})]})})}),e.jsx("header",{className:" border-b border-gray-200 bg-white darks:bg-gray-800 darks:border-gray-800",children:e.jsx("div",{className:"container mx-auto xl:max-w-6xl ",children:e.jsxs("nav",{className:"flex flex-row flex-nowrap items-center justify-between mt-0 py-4 ",id:"desktop-menu",children:[e.jsx("a",{className:"flex items-center py-2 ltr:mr-4 rtl:ml-4 text-xl cursor-default",children:e.jsxs("div",{className:"flex gap-2",children:[" ",e.jsx("span",{className:"w-9",children:e.jsx("img",{src:(L=oe())==null?void 0:L.ulb_logo,alt:"",srcset:"",className:""})})," ",e.jsx("span",{className:"font-bold text-xl",children:"Ranchi Municipal Corporation"})]})}),e.jsxs("div",{className:" flex justify-center h-max select-none space-x-4",children:[e.jsxs("a",{onClick:()=>y(!0),className:"h-[40%] cursor-pointer py-2 flex items-center gap-4 text-gray-100 bg-gray-800 pl-4 pr-6 drop-shadow-lg transition-all duration-200 hover:scale-105 rounded-md",children:[e.jsx("div",{className:"h-[70%] "}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-semibold py-1",children:"Downloads"})})]}),e.jsxs("a",{href:"./Fines.apk",download:!0,className:"h-[40%] cursor-pointer py-2 flex items-center gap-4 text-gray-100 bg-gray-800 pl-4 pr-6 drop-shadow-lg transition-all duration-200 hover:scale-105 rounded-md",children:[e.jsx("div",{className:"h-[70%] ",children:e.jsx("img",{src:me,alt:"",className:"h-8 cursor-pointer",srcset:""})}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-semibold",children:"Download APK"})})]})]})]})})}),e.jsx("main",{className:" bg-gray-100 flex justify-center items-center md:h-[80vh]",children:e.jsx("div",{className:"pt-8 bg-gray-100 darks:bg-gray-900 darks:bg-opacity-40",children:e.jsx("div",{className:"mx-auto px-4 ",children:e.jsxs("div",{className:"flex flex-wrap flex-row justify-center gap-2 items-center",children:[e.jsx("div",{className:" px-4 w-full md:w-[40%] 2xl:w-[30%]",children:e.jsx("div",{className:"max-w-full w-full px-2 sm:px-12 lg:pr-20 mb-10 lg:mb-0",children:e.jsx("div",{className:"relative",children:e.jsx("div",{className:"p-6 sm:py-8 sm:px-12 rounded-lg bg-white darks:bg-gray-800 shadow-xl",children:e.jsxs("form",{onSubmit:s.handleSubmit,children:[e.jsx("div",{className:"text-center",children:e.jsx("h1",{className:"text-2xl leading-normal mb-3 font-bold text-gray-800 darks:text-gray-300 text-center",children:"Login"})}),e.jsx("hr",{className:"block w-12 h-0.5 mx-auto my-5 bg-gray-700 border-gray-700"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"inputemail",className:"inline-block mb-2",children:"E-mail"}),e.jsx("input",{...s.getFieldProps("username"),className:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600",defaultValue:!0,"aria-label":"email",type:"email",required:!0}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.username&&s.errors.username?s.errors.username:null})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{className:"flex flex-wrap flex-row",children:e.jsx("div",{className:"flex-shrink max-w-full w-1/2",children:e.jsx("label",{htmlFor:"inputpass",className:"inline-block mb-2",children:"Password"})})}),e.jsx("input",{...s.getFieldProps("password"),className:"w-full leading-5 relative py-2 px-4 rounded text-gray-800 bg-white border border-gray-300 overflow-x-auto focus:outline-none focus:border-gray-400 focus:ring-0 darks:text-gray-300 darks:bg-gray-700 darks:border-gray-700 darks:focus:border-gray-600","aria-label":"password",type:"password",defaultValue:!0,required:!0}),e.jsx("span",{className:"text-red-600 text-xs",children:s.touched.password&&s.errors.password?s.errors.password:null})]}),e.jsxs("div",{className:"grid",children:[j?e.jsx("div",{className:"flex justify-center",children:e.jsx($,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsxs("button",{type:"submit",className:"py-2 px-4 inline-block text-center rounded leading-normal text-gray-100 bg-indigo-500 border border-indigo-500 hover:text-white hover:bg-indigo-600 hover:ring-0 hover:border-indigo-600 focus:bg-indigo-600 focus:border-indigo-600 focus:outline-none focus:ring-0",children:[e.jsxs("svg",{xmlnsXlink:"http://www.w3.org/2000/svg",fill:"currentColor",className:"inline-block w-4 h-4 ltr:mr-2 rtl:ml-2 bi bi-box-arrow-in-right",viewBox:"0 0 16 16",children:[e.jsx("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),e.jsx("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"})]}),"Login"]}),e.jsx("div",{onClick:()=>b.current.showModal(),className:"select-none py-4 text-center font-semibold hover:text-blue-600 hover:underline cursor-pointer",children:"Forgot Password"})]})]})})})})}),e.jsx("div",{className:"px-4 w-full md:w-[45%]",children:e.jsxs("div",{className:"text-center mt-6 lg:mt-0",children:[e.jsx("img",{src:ie,alt:"welcome",className:"w-[60%] h-auto mx-auto hue-rotate-[90deg]"}),e.jsx("div",{className:"px-4 mt-12",children:e.jsx("h1",{className:"text-bold text-4xl mb-2",children:"Fines & Penalties Admin Portal"})})]})})]})})})}),e.jsx("footer",{className:" bg-white py-6 border-t border-gray-200 darks:bg-gray-800 darks:border-gray-800",children:e.jsx("div",{className:"container mx-auto px-4 xl:max-w-6xl ",children:e.jsx("div",{className:"mx-auto px-4",children:e.jsxs("div",{className:"flex flex-wrap flex-row -mx-4",children:[e.jsx("div",{className:"flex-shrink max-w-full px-4 w-full md:w-1/2 text-center md:ltr:text-left md:rtl:text-right"}),e.jsx("div",{className:"flex-shrink max-w-full px-4 w-full md:w-1/2 text-center md:ltr:text-right md:rtl:text-left"})]})})})}),e.jsxs("dialog",{ref:b,className:"relative overflow-clip animate__animated animate__zoomIn animate__faster w-[20rem] backdrop:backdrop-blur-sm p-4 px-6",children:[e.jsx("span",{onClick:()=>(b.current.close(),t.resetForm()),className:"block p-1 bg-red-100 hover:bg-red-500 rounded-full hover:text-white cursor-pointer transition-all duration-200 absolute top-2 right-2",children:e.jsx(ce,{})}),e.jsx("div",{children:e.jsxs("form",{onSubmit:t.handleSubmit,onChange:r=>Z(r),children:[e.jsx("div",{className:"text-center",children:e.jsx("h1",{className:"text-2xl border-b pb-1 leading-normal mb-4 font-semibold text-gray-800 darks:text-gray-300 text-center",children:"Reset Password"})}),e.jsxs("div",{className:" flex flex-col",children:[e.jsxs("label",{htmlFor:"email",className:k,children:["E-mail :"," "]}),e.jsx("input",{...s.getFieldProps("email"),value:t.values.email,type:"text",className:C+` ${(R=t.touched)!=null&&R.email&&((D=t.errors)!=null&&D.email)?" border-red-200 placeholder:text-red-400 ":" focus:border-zinc-300 border-zinc-200"}`,name:"email",id:"",placeholder:"Enter email"})]}),e.jsx("div",{className:"my-4 text-center font-semibold ",children:"OR"}),e.jsxs("div",{className:" flex flex-col mb-6",children:[e.jsxs("label",{htmlFor:"mobile",className:k,children:["Mobile No. :"," "]}),e.jsx("input",{...s.getFieldProps("mobile"),value:t.values.mobile,type:"text",className:C+` ${(F=t.touched)!=null&&F.mobile&&((M=t.errors)!=null&&M.mobile)?" border-red-200 placeholder:text-red-400 ":" focus:border-zinc-300 border-zinc-200"}`,name:"mobile",id:"",placeholder:"Enter mobile no."})]}),e.jsx("div",{className:"grid mb-2",children:j?e.jsx("div",{className:"flex justify-center",children:e.jsx($,{strokeColor:"grey",strokeWidth:"5",animationDuration:"0.75",width:"25",visible:!0})}):e.jsx("button",{onClick:t.handleSubmit,className:"py-2 px-4 inline-block text-center rounded leading-normal text-white bg-slate-500 border border-slate-500 hover:text-white hover:bg-slate-600 hover:ring-0 hover:border-indigo-600 focus:bg-slate-600 focus:border-slate-600 focus:outline-none focus:ring-0",children:"Reset"})})]})})]})]})}export{Le as default};
